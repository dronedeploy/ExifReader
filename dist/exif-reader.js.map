{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ddda0ecf40dcf71e1bc9","webpack:///./src/exif-reader.js","webpack:///./src/image-header.js","webpack:///./src/utils.js","webpack:///./src/tags.js","webpack:///./src/byte-order.js","webpack:///./src/types.js","webpack:///./src/tag-names.js","webpack:///./src/tag-names-0th-ifd.js","webpack:///./src/tag-names-exif-ifd.js","webpack:///./src/tag-names-utils.js","webpack:///./src/tag-names-gps-ifd.js","webpack:///./src/tag-names-interoperability-ifd.js","webpack:///./src/iptc-tags.js","webpack:///./src/iptc-tag-names.js","webpack:///./src/xmp-tags.js","webpack:///./src/xmp-tag-names.js"],"names":["load","loadView","data","options","expanded","dataView","DataView","error","console","warn","foundMetaData","tags","ImageHeader","check","parseAppMarkers","tiffHeaderOffset","iptcDataOffset","xmpDataOffset","xmpFieldLength","hasExifData","readTags","Tags","read","exif","hasIptcData","IptcTags","iptc","hasXmpData","XmpTags","xmp","Error","undefined","MIN_DATA_BUFFER_LENGTH","JPEG_ID","JPEG_ID_SIZE","APP_ID_OFFSET","APP_MARKER_SIZE","TIFF_HEADER_OFFSET","IPTC_DATA_OFFSET","XMP_DATA_OFFSET","APP0_MARKER","APP1_MARKER","APP13_MARKER","APP15_MARKER","COMMENT_MARKER","APP1_EXIF_IDENTIFIER","APP1_XMP_IDENTIFIER","APP13_IPTC_IDENTIFIER","byteLength","getUint16","appMarkerPosition","fieldLength","isApp1ExifMarker","isApp1XMPMarker","isApp13PhotoshopMarker","isAppMarker","hasAppMarkers","markerIdLength","length","getUint8","appMarker","getStringFromDataView","offset","chars","i","push","getAsciiValue","join","charArray","map","charCode","String","fromCharCode","EXIF_IFD_POINTER_KEY","GPS_INFO_IFD_POINTER_KEY","INTEROPERABILITY_IFD_POINTER_KEY","getTagValueAt","Types","getByteAt","getAsciiAt","getShortAt","getLongAt","getRationalAt","getUndefinedAt","getSlongAt","getSrationalAt","byteOrder","ByteOrder","getByteOrder","read0thIfd","readExifIfd","readGpsIfd","readInteroperabilityIfd","readIfd","get0thIfdOffset","value","ifdType","FIELD_COUNT_SIZE","getTypeSize","FIELD_SIZE","numberOfFields","fieldIndex","tag","readTag","name","description","TAG_TYPE_OFFSET","TAG_COUNT_OFFSET","TAG_VALUE_OFFSET","tagCode","tagType","tagCount","tagValue","typeSizes","tagValueFitsInOffsetSlot","getTagValue","tagValueOffset","tagTypes","splitNullSeparatedAsciiString","decodeAsciiValue","TagNames","tagName","tagDescription","Array","type","count","valueIndex","string","character","asciiValue","decodeURIComponent","escape","LITTLE_ENDIAN","BIG_ENDIAN","getUint32","getInt32","typeName","TagNames0thIfd","TagNamesExifIfd","TagNamesGpsIfd","TagNamesInteroperabilityIfd","getEncodedString","x","y","getStringValue","getCharacterArray","encoding","slice","split","charCodeAt","ref","num","status","mode","BYTES_8BIM","BYTES_8BIM_SIZE","RESOURCE_BLOCK_HEADER_SIZE","NAA_RESOURCE_BLOCK_TYPE","TAG_HEADER_SIZE","dataOffset","getNaaResourceBlock","naaBlock","newDataOffset","parseTags","resourceBlock","getResourceBlock","isNaaResourceBlock","size","getBlockPadding","RESOURCE_BLOCK_SIZE_OFFSET","blockSize","endOfBlockOffset","tagSize","TAG_CODE_OFFSET","TAG_SIZE_OFFSET","IptcTagNames","toString","parts","getCreationDate","getCreationTime","stringValue","character0","charAt","character1","parseInt","bits","duration","substr","formatVersions","objectDataPreviewFileFormat","date","time","parsedTime","metadataSize","doc","getDocument","rdf","getRDF","parseXMPObject","convertToObject","DOMParser","domParser","xmlSource","parseFromString","documentElement","nodeName","node","childNodes","isTopNode","getChildNodes","hasTextOnlyContent","getTextValue","getElementsFromNodes","elements","nodes","nodeValue","forEach","isElement","nodeElement","getElementFromNode","isArray","attributes","getAttributes","element","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","getDescription","isNamespaceDefinition","getDescriptionOfArray","getDescriptionOfObject","XmpTagNames","item","descriptions","key","getClearTextKey","children","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","parseNodeAsStructureRdfDescription","isCompactStructure","parseNodeAsCompactStructure","parseNodeAsArray","parseNodeAsSimpleValue","parseNodeAttributes","parseNodeChildrenAsAttributes","parseRdfValue","getURIValue","Object","keys","getArrayChild","items","parseArrayValue","hasNestedArrayValue","calculateGPSValue","degreesString","minutesString","degrees","parseFloat","minutes","Number","isNaN"],"mappings":"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","file":"exif-reader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ExifReader\"] = factory();\n\telse\n\t\troot[\"ExifReader\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ddda0ecf40dcf71e1bc9","/**\n * ExifReader\n * http://github.com/mattiasw/exifreader\n * Copyright (C) 2011-2018  Mattias Wallander <mattias@wallander.eu>\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\nimport ImageHeader from './image-header';\nimport Tags from './tags';\nimport IptcTags from './iptc-tags';\nimport XmpTags from './xmp-tags';\n\nexport function load(data, options = {expanded: false}) {\n    let dataView;\n\n    try {\n        dataView = new DataView(data);\n    } catch (error) {\n        console.warn('Warning: A full DataView implementation is not available. If you\\'re using Node.js you probably want to do this:\\n  1. Install a DataView polyfill, e.g. jdataview: npm install --save jdataview\\n  2. Require that at the top of your script: global.DataView = require(\\'jdataview\\');\\nSee an example of this in the ExifReader example directory.');  // eslint-disable-line no-console\n        return {};\n    }\n\n    return loadView(dataView, options);\n}\n\nexport function loadView(dataView, options = {expanded: false}) {\n    let foundMetaData = false;\n    let tags = {};\n\n    ImageHeader.check(dataView);\n    const {tiffHeaderOffset, iptcDataOffset, xmpDataOffset, xmpFieldLength} = ImageHeader.parseAppMarkers(dataView);\n\n    if (hasExifData(tiffHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = Tags.read(dataView, tiffHeaderOffset);\n        if (options.expanded) {\n            tags.exif = readTags;\n        } else {\n            tags = Object.assign({}, tags, readTags);\n        }\n    }\n    if (hasIptcData(iptcDataOffset)) {\n        foundMetaData = true;\n        const readTags = IptcTags.read(dataView, iptcDataOffset);\n        if (options.expanded) {\n            tags.iptc = readTags;\n        } else {\n            tags = Object.assign({}, tags, readTags);\n        }\n    }\n    if (hasXmpData(xmpDataOffset)) {\n        foundMetaData = true;\n        const readTags = XmpTags.read(dataView, xmpDataOffset, xmpFieldLength);\n        if (options.expanded) {\n            tags.xmp = readTags;\n        } else {\n            tags = Object.assign({}, tags, readTags);\n        }\n    }\n    if (!foundMetaData) {\n        throw new Error('No Exif data');\n    }\n\n    return tags;\n}\n\nfunction hasExifData(tiffHeaderOffset) {\n    return tiffHeaderOffset !== undefined;\n}\n\nfunction hasIptcData(iptcDataOffset) {\n    return iptcDataOffset !== undefined;\n}\n\nfunction hasXmpData(xmpDataOffset) {\n    return xmpDataOffset !== undefined;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/exif-reader.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils';\n\nconst MIN_DATA_BUFFER_LENGTH = 2;\nconst JPEG_ID = 0xffd8;\nconst JPEG_ID_SIZE = 2;\nconst APP_ID_OFFSET = 4;\nconst APP_MARKER_SIZE = 2;\nconst TIFF_HEADER_OFFSET = 10;  // From start of APP1 marker.\nconst IPTC_DATA_OFFSET = 18;  // From start of APP13 marker.\nconst XMP_DATA_OFFSET = 33;  // From start of APP1 marker.\nconst APP0_MARKER = 0xffe0;\nconst APP1_MARKER = 0xffe1;\nconst APP13_MARKER = 0xffed;\nconst APP15_MARKER = 0xffef;\nconst COMMENT_MARKER = 0xfffe;\nconst APP1_EXIF_IDENTIFIER = 'Exif';\nconst APP1_XMP_IDENTIFIER = 'http://ns.adobe.com/xap/1.0/';\nconst APP13_IPTC_IDENTIFIER = 'Photoshop 3.0';\n\nexport default {\n    check,\n    parseAppMarkers\n};\n\nfunction check(dataView) {\n    if ((dataView.byteLength < MIN_DATA_BUFFER_LENGTH) || (dataView.getUint16(0, false) !== JPEG_ID)) {\n        throw new Error('Invalid image format');\n    }\n}\n\nfunction parseAppMarkers(dataView) {\n    let appMarkerPosition = JPEG_ID_SIZE;\n    let fieldLength;\n    let tiffHeaderOffset;\n    let iptcDataOffset;\n    let xmpDataOffset;\n    let xmpFieldLength;\n\n    while (appMarkerPosition + APP_ID_OFFSET + 5 <= dataView.byteLength) {\n        if (isApp1ExifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE, false);\n            tiffHeaderOffset = appMarkerPosition + TIFF_HEADER_OFFSET;\n        } else if (isApp1XMPMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE, false);\n            xmpDataOffset = appMarkerPosition + XMP_DATA_OFFSET;\n            xmpFieldLength = fieldLength - (XMP_DATA_OFFSET - APP_MARKER_SIZE);\n        } else if (isApp13PhotoshopMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE, false);\n            iptcDataOffset = appMarkerPosition + IPTC_DATA_OFFSET;\n        } else if (isAppMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE, false);\n        } else {\n            break;\n        }\n        appMarkerPosition += APP_MARKER_SIZE + fieldLength;\n    }\n\n    return {\n        hasAppMarkers: appMarkerPosition > JPEG_ID_SIZE,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpDataOffset,\n        xmpFieldLength\n    };\n}\n\nfunction isApp1ExifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition, false) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_EXIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength, false) === 0x00);\n}\n\nfunction isApp1XMPMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition, false) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength, false) === 0x00);\n}\n\nfunction isApp13PhotoshopMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP13_IPTC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition, false) === APP13_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP13_IPTC_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength, false) === 0x00);\n}\n\nfunction isAppMarker(dataView, appMarkerPosition) {\n    const appMarker = dataView.getUint16(appMarkerPosition, false);\n    return ((appMarker >= APP0_MARKER) && (appMarker <= APP15_MARKER))\n        || (appMarker === COMMENT_MARKER);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/image-header.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        chars.push(dataView.getUint8(offset + i, false));\n    }\n    return getAsciiValue(chars).join('');\n}\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order';\nimport Types from './types';\nimport TagNames from './tag-names';\n\nconst EXIF_IFD_POINTER_KEY = 'Exif IFD Pointer';\nconst GPS_INFO_IFD_POINTER_KEY = 'GPS Info IFD Pointer';\nconst INTEROPERABILITY_IFD_POINTER_KEY = 'Interoperability IFD Pointer';\n\nconst getTagValueAt = {\n    1: Types.getByteAt,\n    2: Types.getAsciiAt,\n    3: Types.getShortAt,\n    4: Types.getLongAt,\n    5: Types.getRationalAt,\n    7: Types.getUndefinedAt,\n    9: Types.getSlongAt,\n    10: Types.getSrationalAt\n};\n\nexport default {\n    read\n};\n\nfunction read(dataView, tiffHeaderOffset) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, tiffHeaderOffset);\n    let tags = read0thIfd(dataView, tiffHeaderOffset, byteOrder);\n    tags = readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n\n    return tags;\n}\n\nfunction read0thIfd(dataView, tiffHeaderOffset, byteOrder) {\n    return readIfd(dataView, '0th', tiffHeaderOffset, get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder), byteOrder);\n}\n\nfunction get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder) {\n    return tiffHeaderOffset + Types.getLongAt(dataView, tiffHeaderOffset + 4, byteOrder);\n}\n\nfunction readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[EXIF_IFD_POINTER_KEY] !== undefined) {\n        return Object.assign(tags, readIfd(dataView, 'exif', tiffHeaderOffset, tiffHeaderOffset + tags[EXIF_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[GPS_INFO_IFD_POINTER_KEY] !== undefined) {\n        return Object.assign(tags, readIfd(dataView, 'gps', tiffHeaderOffset, tiffHeaderOffset + tags[GPS_INFO_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[INTEROPERABILITY_IFD_POINTER_KEY] !== undefined) {\n        return Object.assign(tags, readIfd(dataView, 'interoperability', tiffHeaderOffset, tiffHeaderOffset + tags[INTEROPERABILITY_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readIfd(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const FIELD_COUNT_SIZE = Types.getTypeSize('SHORT');\n    const FIELD_SIZE = 12;\n\n    const tags = {};\n    const numberOfFields = Types.getShortAt(dataView, offset, byteOrder);\n\n    offset += FIELD_COUNT_SIZE;\n    for (let fieldIndex = 0; fieldIndex < numberOfFields; fieldIndex++) {\n        const tag = readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder);\n        if (tag !== undefined) {\n            tags[tag.name] = {'value': tag.value, 'description': tag.description};\n        }\n        offset += FIELD_SIZE;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const TAG_TYPE_OFFSET = Types.getTypeSize('SHORT');\n    const TAG_COUNT_OFFSET = TAG_TYPE_OFFSET + Types.getTypeSize('SHORT');\n    const TAG_VALUE_OFFSET = TAG_COUNT_OFFSET + Types.getTypeSize('LONG');\n\n    const tagCode = Types.getShortAt(dataView, offset, byteOrder);\n    const tagType = Types.getShortAt(dataView, offset + TAG_TYPE_OFFSET, byteOrder);\n    const tagCount = Types.getLongAt(dataView, offset + TAG_COUNT_OFFSET, byteOrder);\n    let tagValue;\n\n    if (Types.typeSizes[tagType] === undefined) {\n        return undefined;\n    }\n\n    if (tagValueFitsInOffsetSlot(tagType, tagCount)) {\n        tagValue = getTagValue(dataView, offset + TAG_VALUE_OFFSET, tagType, tagCount, byteOrder);\n    } else {\n        const tagValueOffset = Types.getLongAt(dataView, offset + TAG_VALUE_OFFSET, byteOrder);\n        tagValue = getTagValue(dataView, tiffHeaderOffset + tagValueOffset, tagType, tagCount, byteOrder);\n    }\n\n    if (tagType === Types.tagTypes['ASCII']) {\n        tagValue = splitNullSeparatedAsciiString(tagValue);\n        tagValue = decodeAsciiValue(tagValue);\n    }\n\n    if (TagNames[ifdType][tagCode] !== undefined) {\n        let tagName, tagDescription;\n\n        if ((TagNames[ifdType][tagCode]['name'] !== undefined) && (TagNames[ifdType][tagCode]['description'] !== undefined)) {\n            tagName = TagNames[ifdType][tagCode]['name'];\n            tagDescription = TagNames[ifdType][tagCode]['description'](tagValue);\n        } else {\n            tagName = TagNames[ifdType][tagCode];\n            if (tagValue instanceof Array) {\n                tagDescription = tagValue.join(', ');\n            } else {\n                tagDescription = tagValue;\n            }\n        }\n        return {\n            name: tagName,\n            value: tagValue,\n            description: tagDescription\n        };\n    }\n\n    return {\n        name: `undefined-${tagCode}`,\n        value: tagValue,\n        description: tagValue\n    };\n}\n\nfunction tagValueFitsInOffsetSlot(tagType, tagCount) {\n    return Types.typeSizes[tagType] * tagCount <= Types.getTypeSize('LONG');\n}\n\nfunction getTagValue(dataView, offset, type, count, byteOrder) {\n    let value = [];\n\n    for (let valueIndex = 0; valueIndex < count; valueIndex++) {\n        value.push(getTagValueAt[type](dataView, offset, byteOrder));\n        offset += Types.typeSizes[type];\n    }\n\n    if (type === Types.tagTypes['ASCII']) {\n        value = Types.getAsciiValue(value);\n    } else if (value.length === 1) {\n        value = value[0];\n    }\n\n    return value;\n}\n\nfunction splitNullSeparatedAsciiString(string) {\n    const tagValue = [];\n    let i = 0;\n\n    for (const character of string) {\n        if (character === '\\x00') {\n            i++;\n            continue;\n        }\n        if (tagValue[i] === undefined) {\n            tagValue[i] = '';\n        }\n        tagValue[i] += character;\n    }\n\n    return tagValue;\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return asciiValue.map((value) => decodeURIComponent(escape(value)));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\n\nexport default {\n    BIG_ENDIAN,\n    LITTLE_ENDIAN,\n    getByteOrder\n};\n\nfunction getByteOrder(dataView, tiffHeaderOffset) {\n    if (dataView.getUint16(tiffHeaderOffset) === LITTLE_ENDIAN)\n        return LITTLE_ENDIAN;\n    else if (dataView.getUint16(tiffHeaderOffset) === BIG_ENDIAN) {\n        return BIG_ENDIAN;\n    }\n    throw new Error('Illegal byte order value. Faulty image.');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/byte-order.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order';\n\nconst typeSizes = {\n    1: 1,  // BYTE\n    2: 1,  // ASCII\n    3: 2,  // SHORT\n    4: 4,  // LONG\n    5: 8,  // RATIONAL\n    7: 1,  // UNDEFINED\n    9: 4,  // SLONG\n    10: 8  // SRATIONAL\n};\n\nconst tagTypes = {\n    'BYTE': 1,\n    'ASCII': 2,\n    'SHORT': 3,\n    'LONG': 4,\n    'RATIONAL': 5,\n    'UNDEFINED': 7,\n    'SLONG': 9,\n    'SRATIONAL': 10\n};\n\nexport default {\n    getAsciiValue,\n    getByteAt,\n    getAsciiAt,\n    getShortAt,\n    getLongAt,\n    getRationalAt,\n    getUndefinedAt,\n    getSlongAt,\n    getSrationalAt,\n    typeSizes,\n    tagTypes,\n    getTypeSize\n};\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\nfunction getByteAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getAsciiAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getShortAt(dataView, offset, byteOrder) {\n    return dataView.getUint16(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getLongAt(dataView, offset, byteOrder) {\n    return dataView.getUint32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getRationalAt(dataView, offset, byteOrder) {\n    return getLongAt(dataView, offset, byteOrder) / getLongAt(dataView, offset + 4, byteOrder);\n}\n\nfunction getUndefinedAt(dataView, offset) {\n    return getByteAt(dataView, offset);\n}\n\nfunction getSlongAt(dataView, offset, byteOrder) {\n    return dataView.getInt32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getSrationalAt(dataView, offset, byteOrder) {\n    return getSlongAt(dataView, offset, byteOrder) / getSlongAt(dataView, offset + 4, byteOrder);\n}\n\nfunction getTypeSize(typeName) {\n    if (tagTypes[typeName] === undefined) {\n        throw new Error('No such type found.');\n    }\n\n    return typeSizes[tagTypes[typeName]];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/types.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNames0thIfd from './tag-names-0th-ifd';\nimport TagNamesExifIfd from './tag-names-exif-ifd';\nimport TagNamesGpsIfd from './tag-names-gps-ifd';\nimport TagNamesInteroperabilityIfd from './tag-names-interoperability-ifd';\n\nexport default {\n    '0th': TagNames0thIfd,\n    'exif': TagNamesExifIfd,\n    'gps': TagNamesGpsIfd,\n    'interoperability': TagNamesInteroperabilityIfd\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: {\n        name: 'Orientation',\n        description: (value) => {\n            if (value === 1) {\n                return 'top-left';\n            }\n            if (value === 2) {\n                return 'top-right';\n            }\n            if (value === 3) {\n                return 'bottom-right';\n            }\n            if (value === 4) {\n                return 'bottom-left';\n            }\n            if (value === 5) {\n                return 'left-top';\n            }\n            if (value === 6) {\n                return 'right-top';\n            }\n            if (value === 7) {\n                return 'right-bottom';\n            }\n            if (value === 8) {\n                return 'left-bottom';\n            }\n            return 'Undefined';\n        }\n    },\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x011c: 'PlanarConfiguration',\n    0x0128: {\n        name: 'ResolutionUnit',\n        description: (value) => {\n            if (value === 2) {\n                return 'inches';\n            }\n            if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0x012d: 'TransferFunction',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013b: 'Artist',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0211: 'YCbCrCoefficients',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: {\n        name: 'YCbCrPositioning',\n        description: (value) => {\n            if (value === 1) {\n                return 'centered';\n            }\n            if (value === 2) {\n                return 'co-sited';\n            }\n            return 'undefined ' + value;\n        }\n    },\n    0x0214: 'ReferenceBlackWhite',\n    0x8298: {\n        name: 'Copyright',\n        description: (value) => value.join('; ')\n    },\n    0x8769: 'Exif IFD Pointer',\n    0x8825: 'GPS Info IFD Pointer'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names-0th-ifd.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue, getEncodedString} from './tag-names-utils';\n\nexport default {\n    0x829a: 'ExposureTime',\n    0x829d: 'FNumber',\n    0x8822: {\n        'name': 'ExposureProgram',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Undefined';\n            } else if (value === 1) {\n                return 'Manual';\n            } else if (value === 2) {\n                return 'Normal program';\n            } else if (value === 3) {\n                return 'Aperture priority';\n            } else if (value === 4) {\n                return 'Shutter priority';\n            } else if (value === 5) {\n                return 'Creative program';\n            } else if (value === 6) {\n                return 'Action program';\n            } else if (value === 7) {\n                return 'Portrait mode';\n            } else if (value === 8) {\n                return 'Landscape mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: {\n        'name': 'OECF',\n        'description': () => '[Raw OECF table data]'\n    },\n    0x9000: {\n        'name': 'ExifVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9101: {\n        'name': 'ComponentsConfiguration',\n        'description': (value) => {\n            return value.map((character) => {\n                if (character === 0x31) {\n                    return 'Y';\n                } else if (character === 0x32) {\n                    return 'Cb';\n                } else if (character === 0x33) {\n                    return 'Cr';\n                } else if (character === 0x34) {\n                    return 'R';\n                } else if (character === 0x35) {\n                    return 'G';\n                } else if (character === 0x36) {\n                    return 'B';\n                }\n            }).join('');\n        }\n    },\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: 'ShutterSpeedValue',\n    0x9202: 'ApertureValue',\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: 'MaxApertureValue',\n    0x9206: 'SubjectDistance',\n    0x9207: {\n        'name': 'MeteringMode',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Average';\n            } else if (value === 2) {\n                return 'CenterWeightedAverage';\n            } else if (value === 3) {\n                return 'Spot';\n            } else if (value === 4) {\n                return 'MultiSpot';\n            } else if (value === 5) {\n                return 'Pattern';\n            } else if (value === 6) {\n                return 'Partial';\n            } else if (value === 255) {\n                return 'Other';\n            }\n            return 'Unknown';\n        }\n    },\n    0x9208: {\n        'name': 'LightSource',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Daylight';\n            } else if (value === 2) {\n                return 'Fluorescent';\n            } else if (value === 3) {\n                return 'Tungsten (incandescent light)';\n            } else if (value === 4) {\n                return 'Flash';\n            } else if (value === 9) {\n                return 'Fine weather';\n            } else if (value === 10) {\n                return 'Cloudy weather';\n            } else if (value === 11) {\n                return 'Shade';\n            } else if (value === 12) {\n                return 'Daylight fluorescent (D 5700  7100K)';\n            } else if (value === 13) {\n                return 'Day white fluorescent (N 4600  5400K)';\n            } else if (value === 14) {\n                return 'Cool white fluorescent (W 3900  4500K)';\n            } else if (value === 15) {\n                return 'White fluorescent (WW 3200  3700K)';\n            } else if (value === 17) {\n                return 'Standard light A';\n            } else if (value === 18) {\n                return 'Standard light B';\n            } else if (value === 19) {\n                return 'Standard light C';\n            } else if (value === 20) {\n                return 'D55';\n            } else if (value === 21) {\n                return 'D65';\n            } else if (value === 22) {\n                return 'D75';\n            } else if (value === 23) {\n                return 'D50';\n            } else if (value === 24) {\n                return 'ISO studio tungsten';\n            } else if (value === 255) {\n                return 'Other light source';\n            }\n            return 'Unknown';\n        }\n    },\n    0x9209: {\n        'name': 'Flash',\n        'description': (value) => {\n            if (value === 0x00) {\n                return 'Flash did not fire';\n            } else if (value === 0x01) {\n                return 'Flash fired';\n            } else if (value === 0x05) {\n                return 'Strobe return light not detected';\n            } else if (value === 0x07) {\n                return 'Strobe return light detected';\n            } else if (value === 0x09) {\n                return 'Flash fired, compulsory flash mode';\n            } else if (value === 0x0d) {\n                return 'Flash fired, compulsory flash mode, return light not detected';\n            } else if (value === 0x0f) {\n                return 'Flash fired, compulsory flash mode, return light detected';\n            } else if (value === 0x10) {\n                return 'Flash did not fire, compulsory flash mode';\n            } else if (value === 0x18) {\n                return 'Flash did not fire, auto mode';\n            } else if (value === 0x19) {\n                return 'Flash fired, auto mode';\n            } else if (value === 0x1d) {\n                return 'Flash fired, auto mode, return light not detected';\n            } else if (value === 0x1f) {\n                return 'Flash fired, auto mode, return light detected';\n            } else if (value === 0x20) {\n                return 'No flash function';\n            } else if (value === 0x41) {\n                return 'Flash fired, red-eye reduction mode';\n            } else if (value === 0x45) {\n                return 'Flash fired, red-eye reduction mode, return light not detected';\n            } else if (value === 0x47) {\n                return 'Flash fired, red-eye reduction mode, return light detected';\n            } else if (value === 0x49) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode';\n            } else if (value === 0x4d) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected';\n            } else if (value === 0x4f) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected';\n            } else if (value === 0x59) {\n                return 'Flash fired, auto mode, red-eye reduction mode';\n            } else if (value === 0x5d) {\n                return 'Flash fired, auto mode, return light not detected, red-eye reduction mode';\n            } else if (value === 0x5f) {\n                return 'Flash fired, auto mode, return light detected, red-eye reduction mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x920a: 'FocalLength',\n    0x9214: {\n        'name': 'SubjectArea',\n        'description': (value) => {\n            if (value.length === 2) {\n                return `Location; X: ${value[0]}, Y: ${value[1]}`;\n            } else if (value.length === 3) {\n                return `Circle; X: ${value[0]}, Y: ${value[1]}, diameter: ${value[2]}`;\n            } else if (value.length === 4) {\n                return `Rectangle; X: ${value[0]}, Y: ${value[1]}, width: ${value[2]}, height: ${value[3]}`;\n            }\n            return 'Unknown';\n        }\n    },\n    0x927c: {\n        'name': 'MakerNote',\n        'description': () => '[Raw maker note data]'\n    },\n    0x9286: {\n        'name': 'UserComment',\n        'description': getEncodedString\n    },\n    0x9290: 'SubSecTime',\n    0x9291: 'SubSecTimeOriginal',\n    0x9292: 'SubSecTimeDigitized',\n    0xa000: {\n        'name': 'FlashpixVersion',\n        'description': (value) => value.map((charCode) => String.fromCharCode(charCode)).join('')\n    },\n    0xa001: {\n        'name': 'ColorSpace',\n        'description': (value) => {\n            if (value === 1) {\n                return 'sRGB';\n            } else if (value === 0xffff) {\n                return 'Uncalibrated';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa002: 'PixelXDimension',\n    0xa003: 'PixelYDimension',\n    0xa004: 'RelatedSoundFile',\n    0xa005: 'Interoperability IFD Pointer',\n    0xa20b: 'FlashEnergy',\n    0xa20c: {\n        'name': 'SpatialFrequencyResponse',\n        'description': () => '[Raw SFR table data]'\n    },\n    0xa20e: 'FocalPlaneXResolution',\n    0xa20f: 'FocalPlaneYResolution',\n    0xa210: {\n        'name': 'FocalPlaneResolutionUnit',\n        'description': (value) => {\n            if (value === 2) {\n                return 'inches';\n            } else if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa214: {\n        'name': 'SubjectLocation',\n        'description': ([x, y]) => `X: ${x}, Y: ${y}`\n    },\n    0xa215: 'ExposureIndex',\n    0xa217: {\n        'name': 'SensingMethod',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Undefined';\n            } else if (value === 2) {\n                return 'One-chip color area sensor';\n            } else if (value === 3) {\n                return 'Two-chip color area sensor';\n            } else if (value === 4) {\n                return 'Three-chip color area sensor';\n            } else if (value === 5) {\n                return 'Color sequential area sensor';\n            } else if (value === 7) {\n                return 'Trilinear sensor';\n            } else if (value === 8) {\n                return 'Color sequential linear sensor';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa300: {\n        'name': 'FileSource',\n        'description': (value) => {\n            if (value === 3) {\n                return 'DSC';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa301: {\n        'name': 'SceneType',\n        'description': (value) => {\n            if (value === 1) {\n                return 'A directly photographed image';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa302: {\n        'name': 'CFAPattern',\n        'description': () => '[Raw CFA pattern table data]'\n    },\n    0xa401: {\n        'name': 'CustomRendered',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal process';\n            } else if (value === 1) {\n                return 'Custom process';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa402: {\n        'name': 'ExposureMode',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto exposure';\n            } else if (value === 1) {\n                return 'Manual exposure';\n            } else if (value === 2) {\n                return 'Auto bracket';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa403: {\n        'name': 'WhiteBalance',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto white balance';\n            } else if (value === 1) {\n                return 'Manual white balance';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa404: {\n        'name': 'DigitalZoomRatio',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Digital zoom was not used';\n            }\n            return value;\n        }\n    },\n    0xa405: {\n        'name': 'FocalLengthIn35mmFilm',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Unknown';\n            }\n            return value;\n        }\n    },\n    0xa406: {\n        'name': 'SceneCaptureType',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Standard';\n            } else if (value === 1) {\n                return 'Landscape';\n            } else if (value === 2) {\n                return 'Portrait';\n            } else if (value === 3) {\n                return 'Night scene';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa407: {\n        'name': 'GainControl',\n        'description': (value) => {\n            if (value === 0) {\n                return 'None';\n            } else if (value === 1) {\n                return 'Low gain up';\n            } else if (value === 2) {\n                return 'High gain up';\n            } else if (value === 3) {\n                return 'Low gain down';\n            } else if (value === 4) {\n                return 'High gain down';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa408: {\n        'name': 'Contrast',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa409: {\n        'name': 'Saturation',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Low saturation';\n            } else if (value === 2) {\n                return 'High saturation';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40a: {\n        'name': 'Sharpness',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40b: {\n        'name': 'DeviceSettingDescription',\n        'description': () => '[Raw device settings table data]'\n    },\n    0xa40c: {\n        'name': 'SubjectDistanceRange',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Macro';\n            } else if (value === 2) {\n                return 'Close view';\n            } else if (value === 3) {\n                return 'Distant view';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa420: 'ImageUniqueID'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names-exif-ifd.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringValue(value) {\n    return value.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getEncodedString(value) {\n    if (value.length >= 8) {\n        const encoding = getStringValue(value.slice(0, 8));\n\n        if (encoding === 'ASCII\\x00\\x00\\x00') {\n            return getStringValue(value.slice(8));\n        } else if (encoding === 'JIS\\x00\\x00\\x00\\x00\\x00') {\n            return '[JIS encoded text]';\n        } else if (encoding === 'UNICODE\\x00') {\n            return '[Unicode encoded text]';\n        } else if (encoding === '\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00') {\n            return '[Undefined encoding]';\n        }\n    }\n\n    return 'Undefined';\n}\n\nexport function getCharacterArray(string) {\n    return string.split('').map((character) => character.charCodeAt(0));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names-utils.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getEncodedString} from './tag-names-utils';\n\nexport default {\n    0x0000: {\n        'name': 'GPSVersionID',\n        'description': (value) => {\n            if (value[0] === 2 && value[1] === 2 && value[2] === 0 && value[3] === 0) {\n                return 'Version 2.2';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0001: {\n        'name': 'GPSLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0002: {\n        'name': 'GPSLatitude',\n        'description': (value) => {\n            return value[0] + value[1] / 60 + value[2] / 3600;\n        }\n    },\n    0x0003: {\n        'name': 'GPSLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0004: {\n        'name': 'GPSLongitude',\n        'description': (value) => {\n            return value[0] + value[1] / 60 + value[2] / 3600;\n        }\n    },\n    0x0005: {\n        'name': 'GPSAltitudeRef',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Sea level';\n            } else if (value === 1) {\n                return 'Sea level reference (negative value)';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0006: {\n        'name': 'GPSAltitude',\n        'description': (value) => {\n            return value + ' m';\n        }\n    },\n    0x0007: {\n        'name': 'GPSTimeStamp',\n        'description': (value) => {\n            return value.map((num) => {\n                if (`${num}`.length === 1) {\n                    return `0${num}`;\n                }\n                return num;\n            }).join(':');\n        }\n    },\n    0x0008: 'GPSSatellites',\n    0x0009: {\n        'name': 'GPSStatus',\n        'description': (value) => {\n            const status = value.join('');\n            if (status === 'A') {\n                return 'Measurement in progress';\n            } else if (status === 'V') {\n                return 'Measurement Interoperability';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000a: {\n        'name': 'GPSMeasureMode',\n        'description': (value) => {\n            const mode = value.join('');\n            if (mode === '2') {\n                return '2-dimensional measurement';\n            } else if (mode === '3') {\n                return '3-dimensional measurement';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000b: 'GPSDOP',\n    0x000c: {\n        'name': 'GPSSpeedRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers per hour';\n            } else if (ref === 'M') {\n                return 'Miles per hour';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000d: 'GPSSpeed',\n    0x000e: {\n        'name': 'GPSTrackRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000f: 'GPSTrack',\n    0x0010: {\n        'name': 'GPSImgDirectionRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: {\n        'name': 'GPSDestLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0014: {\n        'name': 'GPSDestLatitude',\n        'description': (value) => {\n            return value[0] + value[1] / 60 + value[2] / 3600;\n        }\n    },\n    0x0015: {\n        'name': 'GPSDestLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0016: {\n        'name': 'GPSDestLongitude',\n        'description': (value) => {\n            return value[0] + value[1] / 60 + value[2] / 3600;\n        }\n    },\n    0x0017: {\n        'name': 'GPSDestBearingRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0018: 'GPSDestBearing',\n    0x0019: {\n        'name': 'GPSDestDistanceRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers';\n            } else if (ref === 'M') {\n                return 'Miles';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001a: 'GPSDestDistance',\n    0x001b: {\n        'name': 'GPSProcessingMethod',\n        'description': getEncodedString\n    },\n    0x001c: {\n        'name': 'GPSAreaInformation',\n        'description': getEncodedString\n    },\n    0x001d: 'GPSDateStamp',\n    0x001e: {\n        'name': 'GPSDifferential',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Measurement without differential correction';\n            } else if (value === 1) {\n                return 'Differential correction applied';\n            }\n            return 'Unknown';\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names-gps-ifd.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    0x0001: 'InteroperabilityIndex'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag-names-interoperability-ifd.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport IptcTagNames from './iptc-tag-names';\n\nconst BYTES_8BIM = 0x3842494d;\nconst BYTES_8BIM_SIZE = 4;\nconst RESOURCE_BLOCK_HEADER_SIZE = BYTES_8BIM_SIZE + 8;\nconst NAA_RESOURCE_BLOCK_TYPE = 0x0404;\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset) {\n    try {\n        const {naaBlock, dataOffset: newDataOffset} = getNaaResourceBlock(dataView, dataOffset);\n        return parseTags(dataView, naaBlock, newDataOffset);\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getNaaResourceBlock(dataView, dataOffset) {\n    while (dataOffset + RESOURCE_BLOCK_HEADER_SIZE <= dataView.byteLength) {\n        const resourceBlock = getResourceBlock(dataView, dataOffset);\n        if (isNaaResourceBlock(resourceBlock)) {\n            return {naaBlock: resourceBlock, dataOffset};\n        }\n        dataOffset += RESOURCE_BLOCK_HEADER_SIZE + resourceBlock.size + getBlockPadding(resourceBlock.size);\n    }\n    throw new Error('No IPTC NAA resource block.');\n}\n\nfunction getResourceBlock(dataView, dataOffset) {\n    const RESOURCE_BLOCK_SIZE_OFFSET = 10;\n\n    if (dataView.getUint32(dataOffset, false) !== BYTES_8BIM) {\n        throw new Error('Not an IPTC resource block.');\n    }\n\n    return {\n        type: dataView.getUint16(dataOffset + BYTES_8BIM_SIZE, false),\n        size: dataView.getUint16(dataOffset + RESOURCE_BLOCK_SIZE_OFFSET, false)\n    };\n}\n\nfunction isNaaResourceBlock(resourceBlock) {\n    return resourceBlock.type === NAA_RESOURCE_BLOCK_TYPE;\n}\n\nfunction getBlockPadding(blockSize) {\n    if (blockSize % 2 !== 0) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction parseTags(dataView, naaBlock, dataOffset) {\n    const tags = {};\n\n    dataOffset += RESOURCE_BLOCK_HEADER_SIZE;\n    const endOfBlockOffset = dataOffset + naaBlock['size'];\n\n    while ((dataOffset < endOfBlockOffset) && (dataOffset < dataView.byteLength)) {\n        const {tag, tagSize} = readTag(dataView, dataOffset, tags);\n\n        if ((tags[tag.name] === undefined) || (tag['repeatable'] === undefined)) {\n            tags[tag.name] = {\n                value: tag.value,\n                description: tag.description\n            };\n        } else {\n            if (!(tags[tag.name] instanceof Array)) {\n                tags[tag.name] = [{\n                    value: tags[tag.name].value,\n                    description: tags[tag.name].description\n                }];\n            }\n            tags[tag.name].push({\n                value: tag.value,\n                description: tag.description\n            });\n        }\n\n        dataOffset += TAG_HEADER_SIZE + tagSize;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, dataOffset, tags) {\n    const TAG_CODE_OFFSET = 1;\n    const TAG_SIZE_OFFSET = 3;\n\n    const tagCode = dataView.getUint16(dataOffset + TAG_CODE_OFFSET, false);\n    const tagSize = dataView.getUint16(dataOffset + TAG_SIZE_OFFSET, false);\n    const tagValue = getTagValue(dataView, dataOffset + TAG_HEADER_SIZE, tagSize);\n    let tag;\n\n    if (IptcTagNames['iptc'][tagCode] !== undefined) {\n        let tagName, tagDescription;\n\n        if ((IptcTagNames['iptc'][tagCode]['name'] !== undefined)\n            && (IptcTagNames['iptc'][tagCode]['description'] !== undefined)) {\n            tagName = IptcTagNames['iptc'][tagCode]['name'];\n            tagDescription = IptcTagNames['iptc'][tagCode]['description'](tagValue, tags);\n        } else {\n            if (IptcTagNames['iptc'][tagCode]['name'] !== undefined) {\n                tagName = IptcTagNames['iptc'][tagCode]['name'];\n            } else {\n                tagName = IptcTagNames['iptc'][tagCode];\n            }\n            if (tagValue instanceof Array) {\n                tagDescription = tagValue.map((charCode) => String.fromCharCode(charCode)).join('');\n            } else {\n                tagDescription = tagValue;\n            }\n        }\n        tag = {\n            name: tagName,\n            value: tagValue,\n            description: tagDescription\n        };\n        if (IptcTagNames['iptc'][tagCode]['repeatable'] !== undefined) {\n            tag['repeatable'] = true;\n        }\n    } else {\n        tag = {\n            name: `undefined-${tagCode}`,\n            value: tagValue,\n            description: tagValue\n        };\n    }\n\n    return {tag, tagSize};\n}\n\nfunction getTagValue(dataView, offset, size) {\n    const value = [];\n\n    for (let valueIndex = 0; valueIndex < size; valueIndex++) {\n        value.push(dataView.getUint8(offset + valueIndex));\n    }\n\n    return value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/iptc-tags.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils';\n\nexport default {\n    'iptc': {\n        0x015a: {\n            'name': 'Coded Character Set',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '\\x1b%G') {\n                    return 'UTF-8';\n                } else if (string === '\\x1b%/G') {\n                    return 'UTF-8 Level 1';\n                } else if (string === '\\x1b%/H') {\n                    return 'UTF-8 Level 2';\n                } else if (string === '\\x1b%/I') {\n                    return 'UTF-8 Level 3';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0200: {\n            'name': 'Record Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0203: 'Object Type Reference',\n        0x0204: 'Object Attribute Reference',\n        0x0205: 'Object Name',\n        0x0207: 'Edit Status',\n        0x0208: {\n            'name': 'Editorial Update',\n            'description': (value) => {\n                if (getStringValue(value) === '01') {\n                    return 'Additional Language';\n                }\n                return 'Unknown';\n            }\n        },\n        0x020a: 'Urgency',\n        0x020c: {\n            'name': 'Subject Reference',\n            'repeatable': true,\n            'description': (value) => {\n                const parts = getStringValue(value).split(':');\n                return parts[2] + (parts[3] ? '/' + parts[3] : '') + (parts[4] ? '/' + parts[4] : '');\n            }\n        },\n        0x020f: 'Category',\n        0x0214: {\n            'name': 'Supplemental Category',\n            'repeatable': true\n        },\n        0x0216: 'Fixture Identifier',\n        0x0219: {\n            'name': 'Keywords',\n            'repeatable': true\n        },\n        0x021a: {\n            'name': 'Content Location Code',\n            'repeatable': true\n        },\n        0x021b: {\n            'name': 'Content Location Name',\n            'repeatable': true\n        },\n        0x021e: 'Release Date',\n        0x0223: 'Release Time',\n        0x0225: 'Expiration Date',\n        0x0226: 'Expiration Time',\n        0x0228: 'Special Instructions',\n        0x022a: {\n            'name': 'Action Advised',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '01') {\n                    return 'Object Kill';\n                } else if (string === '02') {\n                    return 'Object Replace';\n                } else if (string === '03') {\n                    return 'Object Append';\n                } else if (string === '04') {\n                    return 'Object Reference';\n                }\n                return 'Unknown';\n            }\n        },\n        0x022d: {\n            'name': 'Reference Service',\n            'repeatable': true\n        },\n        0x022f: {\n            'name': 'Reference Date',\n            'repeatable': true\n        },\n        0x0232: {\n            'name': 'Reference Number',\n            'repeatable': true\n        },\n        0x0237: {\n            'name': 'Date Created',\n            'description': getCreationDate\n        },\n        0x023c: {\n            'name': 'Time Created',\n            'description': getCreationTime\n        },\n        0x023e: {\n            'name': 'Digital Creation Date',\n            'description': getCreationDate\n        },\n        0x023f: {\n            'name': 'Digital Creation Time',\n            'description': getCreationTime\n        },\n        0x0241: 'Originating Program',\n        0x0246: 'Program Version',\n        0x024b: {\n            'name': 'Object Cycle',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'a') {\n                    return 'morning';\n                } else if (string === 'p') {\n                    return 'evening';\n                } else if (string === 'b') {\n                    return 'both';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0250: {\n            'name': 'By-line',\n            'repeatable': true\n        },\n        0x0255: {\n            'name': 'By-line Title',\n            'repeatable': true\n        },\n        0x025a: 'City',\n        0x025c: 'Sub-location',\n        0x025f: 'Province/State',\n        0x0264: 'Country/Primary Location Code',\n        0x0265: 'Country/Primary Location Name',\n        0x0267: 'Original Transmission Reference',\n        0x0269: 'Headline',\n        0x026e: 'Credit',\n        0x0273: 'Source',\n        0x0274: 'Copyright Notice',\n        0x0276: {\n            'name': 'Contact',\n            'repeatable': true\n        },\n        0x0278: 'Caption/Abstract',\n        0x027a: {\n            'name': 'Writer/Editor',\n            'repeatable': true\n        },\n        0x027d: {\n            'name': 'Rasterized Caption',\n            'description': (value) => value\n        },\n        0x0282: 'Image Type',\n        0x0283: {\n            'name': 'Image Orientation',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'P') {\n                    return 'Portrait';\n                } else if (string === 'L') {\n                    return 'Landscape';\n                } else if (string === 'S') {\n                    return 'Square';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0287: 'Language Identifier',\n        0x0296: {\n            'name': 'Audio Type',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                const character0 = stringValue.charAt(0);\n                const character1 = stringValue.charAt(1);\n                let description = '';\n\n                if (character0 === '1') {\n                    description += 'Mono';\n                } else if (character0 === '2') {\n                    description += 'Stereo';\n                }\n\n                if (character1 === 'A') {\n                    description += ', actuality';\n                } else if (character1 === 'C') {\n                    description += ', question and answer session';\n                } else if (character1 === 'M') {\n                    description += ', music, transmitted by itself';\n                } else if (character1 === 'Q') {\n                    description += ', response to a question';\n                } else if (character1 === 'R') {\n                    description += ', raw sound';\n                } else if (character1 === 'S') {\n                    description += ', scener';\n                } else if (character1 === 'V') {\n                    description += ', voicer';\n                } else if (character1 === 'W') {\n                    description += ', wrap';\n                }\n\n                if (description !== '') {\n                    return description;\n                }\n                return stringValue;\n            }\n        },\n        0x0297: {\n            'name': 'Audio Sampling Rate',\n            'description': (value) => parseInt(getStringValue(value), 10) + ' Hz'\n        },\n        0x0298: {\n            'name': 'Audio Sampling Resolution',\n            'description': (value) => {\n                const bits = parseInt(getStringValue(value), 10);\n                return bits + (bits === 1 ? ' bit' : ' bits');\n            }\n        },\n        0x0299: {\n            'name': 'Audio Duration',\n            'description': (value) => {\n                const duration = getStringValue(value);\n                if (duration.length >= 6) {\n                    return duration.substr(0, 2) + ':' + duration.substr(2, 2) + ':' + duration.substr(4, 2);\n                }\n                return duration;\n            }\n        },\n        0x029a: 'Audio Outcue',\n        0x02c8: {\n            'name': 'ObjectData Preview File Format',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                if (stringValue === '00') {\n                    return 'No ObjectData';\n                } else if (stringValue === '01') {\n                    return 'IPTC-NAA Digital Newsphoto Parameter Record';\n                } else if (stringValue === '02') {\n                    return 'IPTC7901 Recommended Message Format';\n                } else if (stringValue === '03') {\n                    return 'Tagged Image File Format (Adobe/Aldus Image data)';\n                } else if (stringValue === '04') {\n                    return 'Illustrator (Adobe Graphics data)';\n                } else if (stringValue === '05') {\n                    return 'AppleSingle (Apple Computer Inc)';\n                } else if (stringValue === '06') {\n                    return 'NAA 89-3 (ANPA 1312)';\n                } else if (stringValue === '07') {\n                    return 'MacBinary II';\n                } else if (stringValue === '08') {\n                    return 'IPTC Unstructured Character Oriented File Format (UCOFF)';\n                } else if (stringValue === '09') {\n                    return 'United Press International ANPA 1312 variant';\n                } else if (stringValue === '10') {\n                    return 'United Press International Down-Load Message';\n                } else if (stringValue === '11') {\n                    return 'JPEG File Interchange (JFIF)';\n                } else if (stringValue === '12') {\n                    return 'Photo-CD Image-Pac (Eastman Kodak)';\n                } else if (stringValue === '13') {\n                    return 'Microsoft Bit Mapped Graphics File [*.BMP]';\n                } else if (stringValue === '14') {\n                    return 'Digital Audio File [*.WAV] (Microsoft & Creative Labs)';\n                } else if (stringValue === '15') {\n                    return 'Audio plus Moving Video [*.AVI] (Microsoft)';\n                } else if (stringValue === '16') {\n                    return 'PC DOS/Windows Executable Files [*.COM][*.EXE]';\n                } else if (stringValue === '17') {\n                    return 'Compressed Binary File [*.ZIP] (PKWare Inc)';\n                } else if (stringValue === '18') {\n                    return 'Audio Interchange File Format AIFF (Apple Computer Inc)';\n                } else if (stringValue === '19') {\n                    return 'RIFF Wave (Microsoft Corporation)';\n                } else if (stringValue === '20') {\n                    return 'Freehand (Macromedia/Aldus)';\n                } else if (stringValue === '21') {\n                    return 'Hypertext Markup Language \"HTML\" (The Internet Society)';\n                } else if (stringValue === '22') {\n                    return 'MPEG 2 Audio Layer 2 (Musicom), ISO/IEC';\n                } else if (stringValue === '23') {\n                    return 'MPEG 2 Audio Layer 3, ISO/IEC';\n                } else if (stringValue === '24') {\n                    return 'Portable Document File (*.PDF) Adobe';\n                } else if (stringValue === '25') {\n                    return 'News Industry Text Format (NITF)';\n                } else if (stringValue === '26') {\n                    return 'Tape Archive (*.TAR)';\n                } else if (stringValue === '27') {\n                    return 'Tidningarnas Telegrambyr NITF version (TTNITF DTD)';\n                } else if (stringValue === '28') {\n                    return 'Ritzaus Bureau NITF version (RBNITF DTD)';\n                } else if (stringValue === '29') {\n                    return 'Corel Draw [*.CDR]';\n                }\n                return 'Unknown format ' + stringValue;\n            }\n        },\n        0x02c9: {\n            'name': 'ObjectData Preview File Format Version',\n            'description': (value, tags) => {\n                // Format ID, Version ID, Version Description\n                const formatVersions = {\n                    '00': {'00': '1'},\n                    '01': {'01': '1', '02': '2', '03': '3', '04': '4'},\n                    '02': {'04': '4'},\n                    '03': {'01': '5.0', '02': '6.0'},\n                    '04': {'01': '1.40'},\n                    '05': {'01': '2'},\n                    '06': {'01': '1'},\n                    '11': {'01': '1.02'},\n                    '20': {'01': '3.1', '02': '4.0', '03': '5.0', '04': '5.5'},\n                    '21': {'02': '2.0'}\n                };\n                const stringValue = getStringValue(value);\n\n                if (tags['ObjectData Preview File Format']) {\n                    const objectDataPreviewFileFormat = getStringValue(tags['ObjectData Preview File Format'].value);\n                    if (formatVersions[objectDataPreviewFileFormat]\n                        && formatVersions[objectDataPreviewFileFormat][stringValue]) {\n                        return formatVersions[objectDataPreviewFileFormat][stringValue];\n                    }\n                }\n\n                return stringValue;\n            }\n        },\n        0x02ca: 'ObjectData Preview Data'\n    }\n};\n\nfunction getCreationDate(value) {\n    const date = getStringValue(value);\n\n    if (date.length >= 8) {\n        return date.substr(0, 4) + '-' + date.substr(4, 2) + '-' + date.substr(6, 2);\n    }\n\n    return date;\n}\n\nfunction getCreationTime(value) {\n    const time = getStringValue(value);\n    let parsedTime = time;\n\n    if (time.length >= 6) {\n        parsedTime = time.substr(0, 2) + ':' + time.substr(2, 2) + ':' + time.substr(4, 2);\n        if (time.length === 11) {\n            parsedTime += time.substr(6, 1) + time.substr(7, 2) + ':' + time.substr(9, 2);\n        }\n    }\n\n    return parsedTime;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/iptc-tag-names.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils';\nimport XmpTagNames from './xmp-tag-names';\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset, metadataSize) {\n    try {\n        const doc = getDocument(dataView, dataOffset, metadataSize);\n        const rdf = getRDF(doc);\n\n        return parseXMPObject(convertToObject(rdf, true));\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getDocument(dataView, dataOffset, metadataSize) {\n    if (typeof DOMParser === 'undefined') {\n        console.warn('Warning: DOMParser is not available. If you\\'re using Node.js you probably want to do this:\\n  1. Install a DOM parser, e.g. xmldom: npm install --save xmldom\\n  2. Require that at the top of your script: global.DOMParser = require(\\'xmldom\\').DOMParser;\\nSee an example of this in the ExifReader example directory.');  // eslint-disable-line no-console\n        throw new Error();\n    }\n\n    const domParser = new DOMParser();\n    const xmlSource = getStringFromDataView(dataView, dataOffset, metadataSize);\n    const doc = domParser.parseFromString(xmlSource, 'application/xml');\n\n    if (doc.documentElement.nodeName === 'parsererror') {\n        throw new Error();\n    }\n\n    return doc;\n}\n\nfunction getRDF(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].tagName === 'x:xmpmeta') {\n            return getRDF(node.childNodes[i]);\n        }\n        if (node.childNodes[i].tagName === 'rdf:RDF') {\n            return node.childNodes[i];\n        }\n    }\n\n    throw new Error();\n}\n\nfunction convertToObject(node, isTopNode = false) {\n    const childNodes = getChildNodes(node);\n\n    if (hasTextOnlyContent(childNodes)) {\n        if (isTopNode) {\n            return {};\n        }\n        return getTextValue(childNodes[0]);\n    }\n\n    return getElementsFromNodes(childNodes);\n}\n\nfunction getChildNodes(node) {\n    const elements = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n        elements.push(node.childNodes[i]);\n    }\n\n    return elements;\n}\n\nfunction hasTextOnlyContent(nodes) {\n    return (nodes.length === 1) && (nodes[0].nodeName === '#text');\n}\n\nfunction getTextValue(node) {\n    return node.nodeValue;\n}\n\nfunction getElementsFromNodes(nodes) {\n    const elements = {};\n\n    nodes.forEach((node) => {\n        if (isElement(node)) {\n            const nodeElement = getElementFromNode(node);\n\n            if (elements[node.nodeName] !== undefined) {\n                if (!Array.isArray(elements[node.nodeName])) {\n                    elements[node.nodeName] = [elements[node.nodeName]];\n                }\n                elements[node.nodeName].push(nodeElement);\n            } else {\n                elements[node.nodeName] = nodeElement;\n            }\n        }\n    });\n\n    return elements;\n}\n\nfunction isElement(node) {\n    return (node.nodeName) && (node.nodeName !== '#text');\n}\n\nfunction getElementFromNode(node) {\n    return {\n        attributes: getAttributes(node),\n        value: convertToObject(node)\n    };\n}\n\nfunction getAttributes(element) {\n    const attributes = {};\n\n    for (let i = 0; i < element.attributes.length; i++) {\n        attributes[element.attributes[i].nodeName] = element.attributes[i].value;\n    }\n\n    return attributes;\n}\n\nfunction parseXMPObject(xmpObject) {\n    const tags = {};\n\n    if (typeof xmpObject === 'string') {\n        return xmpObject;\n    }\n\n    for (const nodeName in xmpObject) {\n        let nodes = xmpObject[nodeName];\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        nodes.forEach((node) => {\n            Object.assign(tags, parseNodeAttributesAsTags(node.attributes));\n            Object.assign(tags, parseNodeChildrenAsTags(node.value));\n        });\n    }\n\n    return tags;\n}\n\nfunction parseNodeAttributesAsTags(attributes) {\n    const tags = {};\n\n    if (typeof attributes !== 'object') {\n        return tags;\n    }\n\n    for (const name in attributes) {\n        if (isTagAttribute(name)) {\n            tags[getLocalName(name)] = {\n                value: attributes[name],\n                attributes: {},\n                description: getDescription(attributes[name], name)\n            };\n        }\n    }\n\n    return tags;\n}\n\nfunction isTagAttribute(name) {\n    return (name !== 'rdf:parseType') && (!isNamespaceDefinition(name));\n}\n\nfunction isNamespaceDefinition(name) {\n    return name.split(':')[0] === 'xmlns';\n}\n\nfunction getLocalName(name) {\n    return name.split(':')[1];\n}\n\nfunction getDescription(value, name = undefined) {\n    if (Array.isArray(value)) {\n        return getDescriptionOfArray(value);\n    }\n    if (typeof value === 'object') {\n        return getDescriptionOfObject(value);\n    }\n\n    try {\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value);\n        }\n        return decodeURIComponent(escape(value));\n    } catch (error) {\n        return value;\n    }\n}\n\nfunction getDescriptionOfArray(value) {\n    return value.map((item) => {\n        if (item.value !== undefined) {\n            return getDescription(item.value);\n        }\n        return getDescription(item);\n    }).join(', ');\n}\n\nfunction getDescriptionOfObject(value) {\n    const descriptions = [];\n\n    for (const key in value) {\n        descriptions.push(`${getClearTextKey(key)}: ${value[key].value}`);\n    }\n\n    return descriptions.join('; ');\n}\n\nfunction getClearTextKey(key) {\n    if (key === 'CiAdrCity') {\n        return 'CreatorCity';\n    }\n    if (key === 'CiAdrCtry') {\n        return 'CreatorCountry';\n    }\n    if (key === 'CiAdrExtadr') {\n        return 'CreatorAddress';\n    }\n    if (key === 'CiAdrPcode') {\n        return 'CreatorPostalCode';\n    }\n    if (key === 'CiAdrRegion') {\n        return 'CreatorRegion';\n    }\n    if (key === 'CiEmailWork') {\n        return 'CreatorWorkEmail';\n    }\n    if (key === 'CiTelWork') {\n        return 'CreatorWorkPhone';\n    }\n    if (key === 'CiUrlWork') {\n        return 'CreatorWorkUrl';\n    }\n    return key;\n}\n\nfunction parseNodeChildrenAsTags(children) {\n    const tags = {};\n\n    if (typeof children !== 'object') {\n        return tags;\n    }\n\n    for (const name in children) {\n        if (!isNamespaceDefinition(name)) {\n            tags[getLocalName(name)] = parseNodeAsTag(children[name], name);\n        }\n    }\n\n    return tags;\n}\n\nfunction parseNodeAsTag(node, name) {\n    if (hasNestedSimpleRdfDescription(node)) {\n        return parseNodeAsSimpleRdfDescription(node, name);\n    } else if (hasNestedStructureRdfDescription(node)) {\n        return parseNodeAsStructureRdfDescription(node, name);\n    } else if (isCompactStructure(node)) {\n        return parseNodeAsCompactStructure(node, name);\n    } else if (isArray(node)) {\n        return parseNodeAsArray(node, name);\n    }\n    return parseNodeAsSimpleValue(node, name);\n}\n\nfunction hasNestedSimpleRdfDescription(node) {\n    return ((node.attributes['rdf:parseType'] === 'Resource') && (node.value['rdf:value'] !== undefined))\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] !== undefined));\n}\n\nfunction parseNodeAsSimpleRdfDescription(node, name) {\n    const attributes = parseNodeAttributes(node);\n\n    if (node.value['rdf:Description'] !== undefined) {\n        node = node.value['rdf:Description'];\n    }\n\n    Object.assign(attributes, parseNodeAttributes(node), parseNodeChildrenAsAttributes(node));\n\n    const value = parseRdfValue(node);\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseNodeAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.attributes) {\n        if ((name !== 'rdf:parseType') && (name !== 'rdf:resource') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.attributes[name];\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseNodeChildrenAsAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.value) {\n        if ((name !== 'rdf:value') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.value[name].value;\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseRdfValue(node) {\n    return getURIValue(node.value['rdf:value']) || node.value['rdf:value'].value;\n}\n\nfunction hasNestedStructureRdfDescription(node) {\n    return (node.attributes['rdf:parseType'] === 'Resource')\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] === undefined));\n}\n\nfunction parseNodeAsStructureRdfDescription(node, name) {\n    const tag = {\n        value: {},\n        attributes: {}\n    };\n\n    if (node.value['rdf:Description'] !== undefined) {\n        Object.assign(tag.value, parseNodeAttributesAsTags(node.value['rdf:Description'].attributes));\n        Object.assign(tag.attributes, parseNodeAttributes(node));\n        node = node.value['rdf:Description'];\n    }\n\n    Object.assign(tag.value, parseNodeChildrenAsTags(node.value));\n\n    tag.description = getDescription(tag.value, name);\n\n    return tag;\n}\n\nfunction isCompactStructure(node) {\n    return (Object.keys(node.value).length === 0)\n        && (node.attributes['rdf:resource'] === undefined);\n}\n\nfunction parseNodeAsCompactStructure(node, name) {\n    const value = parseNodeAttributesAsTags(node.attributes);\n\n    return {\n        value,\n        attributes: {},\n        description: getDescription(value, name)\n    };\n}\n\nfunction isArray(node) {\n    return getArrayChild(node.value) !== undefined;\n}\n\nfunction getArrayChild(value) {\n    return value['rdf:Bag'] || value['rdf:Seq'] || value['rdf:Alt'];\n}\n\nfunction parseNodeAsArray(node, name) {\n    let items = getArrayChild(node.value).value['rdf:li'];\n    const attributes = parseNodeAttributes(node);\n    const value = [];\n\n    if (!Array.isArray(items)) {\n        items = [items];\n    }\n\n    items.forEach((item) => {\n        value.push(parseArrayValue(item));\n    });\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseArrayValue(item) {\n    if (hasNestedSimpleRdfDescription(item)) {\n        return parseNodeAsSimpleRdfDescription(item);\n    }\n\n    if (hasNestedArrayValue(item)) {\n        return parseNodeChildrenAsTags(item.value);\n    }\n\n    return {\n        value: item.value,\n        attributes: parseNodeAttributes(item),\n        description: getDescription(item.value)\n    };\n}\n\nfunction hasNestedArrayValue(node) {\n    return node.attributes['rdf:parseType'] === 'Resource';\n}\n\nfunction parseNodeAsSimpleValue(node, name) {\n    const value = getURIValue(node) || parseXMPObject(node.value);\n\n    return {\n        value,\n        attributes: parseNodeAttributes(node),\n        description: getDescription(value, name)\n    };\n}\n\nfunction getURIValue(node) {\n    return node.attributes && node.attributes['rdf:resource'];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xmp-tags.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'tiff:Orientation'(value) {\n        if (value === '1') {\n            return 'Horizontal (normal)';\n        }\n        if (value === '2') {\n            return 'Mirror horizontal';\n        }\n        if (value === '3') {\n            return 'Rotate 180';\n        }\n        if (value === '4') {\n            return 'Mirror vertical';\n        }\n        if (value === '5') {\n            return 'Mirror horizontal and rotate 270 CW';\n        }\n        if (value === '6') {\n            return 'Rotate 90 CW';\n        }\n        if (value === '7') {\n            return 'Mirror horizontal and rotate 90 CW';\n        }\n        if (value === '8') {\n            return 'Rotate 270 CW';\n        }\n        return value;\n    },\n    'exif:GPSLatitude': calculateGPSValue,\n    'exif:GPSLongitude': calculateGPSValue\n};\n\nfunction calculateGPSValue(value) {\n    const [degreesString, minutesString] = value.split(',');\n    if ((degreesString !== undefined) && (minutesString !== undefined)) {\n        const degrees = parseFloat(degreesString);\n        const minutes = parseFloat(minutesString);\n        const ref = minutesString.charAt(minutesString.length - 1);\n        if ((!Number.isNaN(degrees)) && (!Number.isNaN(minutes))) {\n            return '' + (degrees + minutes / 60) + ref;\n        }\n    }\n    return value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xmp-tag-names.js"],"sourceRoot":""}